<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>PAIRINGS_IN_C: src/ibe/bbkem.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PAIRINGS_IN_C
   </div>
   <div id="projectbrief">A Pairing Library in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/d38/bbkem_8c.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bbkem.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;ibe/bbkem.h&quot;</code><br/>
<code>#include &quot;ec/ec.h&quot;</code><br/>
<code>#include &quot;param.h&quot;</code><br/>
<code>#include &quot;rand.h&quot;</code><br/>
<code>#include &quot;fp/fp.h&quot;</code><br/>
<code>#include &quot;fp/fp12.h&quot;</code><br/>
<code>#include &quot;hash/hashing.h&quot;</code><br/>
<code>#include &quot;pbc/pbc.h&quot;</code><br/>
<code>#include &quot;bigint/bi.h&quot;</code><br/>
<code>#include &quot;util.h&quot;</code><br/>
</div>
<p><a href="../../d6/d38/bbkem_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6b410f8440896cd8fea64c96791f31db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d38/bbkem_8c.html#a6b410f8440896cd8fea64c96791f31db">generate_params</a> (bbkem_msk *msk, bbkem_public *params)</td></tr>
<tr class="memdesc:a6b410f8440896cd8fea64c96791f31db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generation of the master secret key and the public parameters for the BB1 IBE key encapsulation mechanism.  <a href="#a6b410f8440896cd8fea64c96791f31db">More...</a><br/></td></tr>
<tr class="separator:a6b410f8440896cd8fea64c96791f31db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e93b1ab6797b400567fb8eaadd0250"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d38/bbkem_8c.html#a90e93b1ab6797b400567fb8eaadd0250">derive_private_key</a> (bbkem_pk *upk, bbkem_msk *msk, bbkem_public *params, const char *id)</td></tr>
<tr class="memdesc:a90e93b1ab6797b400567fb8eaadd0250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derives a user private key to be used in the BB1 IBE key encapsulation mechanism from the master secret key, the public parameters, and the identity string.  <a href="#a90e93b1ab6797b400567fb8eaadd0250">More...</a><br/></td></tr>
<tr class="separator:a90e93b1ab6797b400567fb8eaadd0250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf49dd7f219d72807300faed6d4f100"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d38/bbkem_8c.html#aaaf49dd7f219d72807300faed6d4f100">encapsulate_key</a> (byte *key, bbkem_ciphertext *cipher, bbkem_public *params, const char *id)</td></tr>
<tr class="memdesc:aaaf49dd7f219d72807300faed6d4f100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encapsulation routine of the BB1 IBE KEM.  <a href="#aaaf49dd7f219d72807300faed6d4f100">More...</a><br/></td></tr>
<tr class="separator:aaaf49dd7f219d72807300faed6d4f100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af497a07bd0e7b573a6b89ed88ca58658"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d38/bbkem_8c.html#af497a07bd0e7b573a6b89ed88ca58658">decapsulate_key</a> (byte *key, bbkem_ciphertext *cipher, bbkem_public *params, bbkem_pk *upk)</td></tr>
<tr class="memdesc:af497a07bd0e7b573a6b89ed88ca58658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decapsulation routine of the BB1 IBE KEM.  <a href="#af497a07bd0e7b573a6b89ed88ca58658">More...</a><br/></td></tr>
<tr class="separator:af497a07bd0e7b573a6b89ed88ca58658"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af497a07bd0e7b573a6b89ed88ca58658"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void decapsulate_key </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bbkem_ciphertext *&#160;</td>
          <td class="paramname"><em>cipher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bbkem_public *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bbkem_pk *&#160;</td>
          <td class="paramname"><em>upk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decapsulation routine of the BB1 IBE KEM. </p>
<p>Takes the identity's private key and the received ciphertext to compute the session key to be used. Note that the current implementation does not use the identity string, but always takes the same private key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the resulting session key </td></tr>
    <tr><td class="paramname">cipher</td><td>the ciphertext to be decrypted </td></tr>
    <tr><td class="paramname">id</td><td>the identity string used </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/d38/bbkem_8c_source.html#l00157">157</a> of file <a class="el" href="../../d6/d38/bbkem_8c_source.html">bbkem.c</a>.</p>

<p>References <a class="el" href="../../d7/dfc/hashing_8c_source.html#l00046">hash_key()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/dad/ibe__demo_8c_source.html#l00039">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a90e93b1ab6797b400567fb8eaadd0250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void derive_private_key </td>
          <td>(</td>
          <td class="paramtype">bbkem_pk *&#160;</td>
          <td class="paramname"><em>upk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bbkem_msk *&#160;</td>
          <td class="paramname"><em>msk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bbkem_public *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derives a user private key to be used in the BB1 IBE key encapsulation mechanism from the master secret key, the public parameters, and the identity string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">upk</td><td>the generated user private key </td></tr>
    <tr><td class="paramname">msk</td><td>the master secret key </td></tr>
    <tr><td class="paramname">params</td><td>the public parameters </td></tr>
    <tr><td class="paramname">id</td><td>the identity string </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/d38/bbkem_8c_source.html#l00086">86</a> of file <a class="el" href="../../d6/d38/bbkem_8c_source.html">bbkem.c</a>.</p>

<p>References <a class="el" href="../../d6/df4/rand_8c_source.html#l00064">cprng_get_bytes()</a>, and <a class="el" href="../../d7/dfc/hashing_8c_source.html#l00059">hash_id()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/dad/ibe__demo_8c_source.html#l00039">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aaaf49dd7f219d72807300faed6d4f100"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encapsulate_key </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bbkem_ciphertext *&#160;</td>
          <td class="paramname"><em>cipher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bbkem_public *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encapsulation routine of the BB1 IBE KEM. </p>
<p>Uses the recipient's identity string to establish a session key and a ciphertext decryptable only by the intended recipient. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the resulting session key </td></tr>
    <tr><td class="paramname">cipher</td><td>the resulting ciphertext </td></tr>
    <tr><td class="paramname">id</td><td>the identity string of the recipient </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/d38/bbkem_8c_source.html#l00115">115</a> of file <a class="el" href="../../d6/d38/bbkem_8c_source.html">bbkem.c</a>.</p>

<p>References <a class="el" href="../../d6/df4/rand_8c_source.html#l00064">cprng_get_bytes()</a>, <a class="el" href="../../d7/dfc/hashing_8c_source.html#l00059">hash_id()</a>, and <a class="el" href="../../d7/dfc/hashing_8c_source.html#l00046">hash_key()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/dad/ibe__demo_8c_source.html#l00039">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b410f8440896cd8fea64c96791f31db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void generate_params </td>
          <td>(</td>
          <td class="paramtype">bbkem_msk *&#160;</td>
          <td class="paramname"><em>msk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bbkem_public *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generation of the master secret key and the public parameters for the BB1 IBE key encapsulation mechanism. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msk</td><td>the master secret key </td></tr>
    <tr><td class="paramname">params</td><td>the public parameters </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/d38/bbkem_8c_source.html#l00052">52</a> of file <a class="el" href="../../d6/d38/bbkem_8c_source.html">bbkem.c</a>.</p>

<p>References <a class="el" href="../../d6/df4/rand_8c_source.html#l00064">cprng_get_bytes()</a>, <a class="el" href="../../de/df1/util_8c_source.html#l00057">print()</a>, and <a class="el" href="../../de/df1/util_8c_source.html#l00108">print_value()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/dad/ibe__demo_8c_source.html#l00039">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_ce3ecb5bf2acc551f71c9ccde95056cd.html">ibe</a></li><li class="navelem"><a class="el" href="../../d6/d38/bbkem_8c.html">bbkem.c</a></li>
    <li class="footer">Generated on Wed Sep 23 2015 14:25:16 for PAIRINGS_IN_C by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
